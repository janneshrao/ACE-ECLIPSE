

CREATE FILTER MODULE TEST_FILTER_NODE_MSG_FLOW_Filter
	CREATE FUNCTION Main() RETURNS BOOLEAN
	BEGIN
		DECLARE INREF REFERENCE TO Root.XMLNSC.Emp;
		DECLARE ID INTEGER INREF.Id;
		DECLARE STUDENT ROW;
		
		SET STUDENT = PASSTHRU('SELECT * FROM STUDENT WHERE ROLLNO=?' TO DataSource.dsn VALUES(ID));
		
		IF INREF IS NOT NULL THEN 
			RETURN TRUE;
		ELSEIF INREF.Id IS NULL THEN
			RETURN FALSE;
		ELSEIF STUDENT.NAME IS NULL THEN
			RETURN UNKNOWN;
		END IF;
		
	END;

END MODULE;
